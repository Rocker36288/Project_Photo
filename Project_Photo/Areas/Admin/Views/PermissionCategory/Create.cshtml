@model Project_Photo.Models.UserPermissionCategory
@{
    ViewData["Title"] = "新增權限分類";
}

@section Styles {
    <style>
        .form-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .required::after {
            content: " *";
            color: #d63939;
        }

        .form-text {
            font-size: 0.875rem;
            color: #64748b;
        }
    </style>
}

<div class="page-header d-print-none">
    <div class="container-xl">
        <div class="row g-2 align-items-center">
            <div class="col">
                <h2 class="page-title">
                    新增權限分類
                </h2>
            </div>
            <div class="col-auto ms-auto d-print-none">
                <div class="btn-list">
                    <a asp-action="Index" class="btn btn-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M5 12l14 0" />
                            <path d="M5 12l6 6" />
                            <path d="M5 12l6 -6" />
                        </svg>
                        返回列表
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-body">
    <div class="container-xl">
        <div class="row row-cards">
            <div class="col-12">
                <form asp-action="Create" method="post">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">權限分類資訊</h3>
                        </div>
                        <div class="card-body">
                            @if (!ViewData.ModelState.IsValid)
                            {
                                <div class="alert alert-danger alert-dismissible" role="alert">
                                    <div class="d-flex">
                                        <div>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                <circle cx="12" cy="12" r="9" />
                                                <line x1="12" y1="8" x2="12" y2="12" />
                                                <line x1="12" y1="16" x2="12.01" y2="16" />
                                            </svg>
                                        </div>
                                        <div>
                                            <h4 class="alert-title">發生錯誤</h4>
                                            <div class="text-muted">
                                                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <a class="btn-close" data-bs-dismiss="alert" aria-label="close"></a>
                                </div>
                            }

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label asp-for="CategoryCode" class="form-label required">分類代碼</label>
                                        <input asp-for="CategoryCode" class="form-control" placeholder="例如: USER_MGMT" maxlength="50" />
                                        <small class="form-text">請使用英文大寫和底線,建議格式: XXX_MGMT</small>
                                        <span asp-validation-for="CategoryCode" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label asp-for="CategoryName" class="form-label required">分類名稱</label>
                                        <input asp-for="CategoryName" class="form-control" placeholder="例如: 用戶管理" maxlength="100" />
                                        <small class="form-text">請輸入分類的中文名稱</small>
                                        <span asp-validation-for="CategoryName" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label asp-for="CategoryDescription" class="form-label">分類說明</label>
                                <textarea asp-for="CategoryDescription" class="form-control" rows="4" placeholder="請輸入此分類包含的權限功能說明..." maxlength="200"></textarea>
                                <small class="form-text">最多 200 個字元,用於說明此分類包含哪些類型的權限</small>
                                <span asp-validation-for="CategoryDescription" class="text-danger"></span>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">狀態</label>
                                <div>
                                    <label class="form-check form-check-inline">
                                        <input asp-for="IsActive" class="form-check-input" type="radio" value="true" checked />
                                        <span class="form-check-label">啟用</span>
                                    </label>
                                    <label class="form-check form-check-inline">
                                        <input asp-for="IsActive" class="form-check-input" type="radio" value="false" />
                                        <span class="form-check-label">停用</span>
                                    </label>
                                </div>
                                <small class="form-text">停用後,此分類下的權限將無法被使用</small>
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <div class="d-flex">
                                <a asp-action="Index" class="btn btn-link">取消</a>
                                <button type="submit" class="btn btn-primary ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <line x1="12" y1="5" x2="12" y2="19" />
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                    </svg>
                                    建立權限分類
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row row-cards mt-3">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <circle cx="12" cy="12" r="9" />
                                <line x1="12" y1="8" x2="12.01" y2="8" />
                                <polyline points="11 12 12 12 12 16 13 16" />
                            </svg>
                            權限分類說明
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h4 class="mb-3">什麼是權限分類?</h4>
                                <p class="text-muted">
                                    權限分類 - 用來組織和歸類相關的權限功能。
                                    例如「照片管理」分類下,可以包含「瀏覽照片」、「上傳照片」、「編輯照片」、「刪除照片」等多個具體功能。
                                </p>
                                <p class="text-muted">
                                    透過分類,可以讓權限管理更有條理,也更容易找到需要的權限。
                                </p>
                            </div>
                            <div class="col-md-6">
                                <h4 class="mb-3">命名建議</h4>
                                <ul class="text-muted">
                                    <li><strong>分類代碼:</strong> 使用英文大寫和底線,例如: <code>USER_MGMT</code>、<code>PHOTO_MGMT</code>、<code>ORDER_MGMT</code></li>
                                    <li><strong>分類名稱:</strong> 使用中文清楚描述,例如: 「用戶管理」、「照片管理」、「訂單管理」</li>
                                    <li><strong>分類說明:</strong> 簡單說明此分類包含哪些類型的權限功能</li>
                                </ul>
                                <div class="alert alert-info mt-3" role="alert">
                                    <strong>💡 提示:</strong> 建立分類後,請到「權限管理」頁面新增具體的權限項目,並指定歸屬此分類。
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
